utils.loadPlatform("ti.platforms.expOMAPL138");

/* The following DSP/BIOS Features are enabled.  */
bios.enableRealTimeAnalysis(prog);
bios.enableRtdx(prog);
bios.enableTskManager(prog);

bios.GBL.C64PLUSL2CFG = "32k";
bios.GBL.C64PLUSMAR128to159 = 0x00000001;
bios.MEM.STACKSIZE = 0x0c00;
bios.MEM.NOMEMORYHEAPS = 0;
bios.MEM.instance("DDR").createHeap = 1;
bios.MEM.instance("IRAM").len = 0x00030000;
bios.MEM.instance("IRAM").createHeap = 1;
bios.MEM.instance("IRAM").heapSize = 0x00002000;
bios.MEM.instance("IRAM").enableHeapLabel = 1;
bios.MEM.instance("IRAM").heapLabel = prog.extern("SEG0");
bios.MEM.BIOSOBJSEG = prog.get("IRAM");
bios.MEM.MALLOCSEG = prog.get("IRAM");
bios.LOG.instance("LOG_system").bufLen = 512;
bios.LOG.create("trace");
bios.LOG.instance("trace").bufLen = 128;
bios.PRD.instance("PWRM_slotFinalizer").order = 1;
bios.PRD.create("PRD_startMcBSP");
bios.PRD.instance("PRD_startMcBSP").order = 3;
bios.PRD.instance("PRD_startMcBSP").period = 25;
bios.PRD.instance("PRD_startMcBSP").fxn = prog.extern("startMcBSP");
bios.PRD.create("PRD_addtime");
bios.PRD.instance("PRD_addtime").order = 4;
bios.PRD.instance("PRD_addtime").period = 1;
bios.PRD.instance("PRD_addtime").fxn = prog.extern("addtime");
bios.HWI.instance("HWI_INT4").fxn = prog.extern("VPIF_HWI");
bios.HWI.instance("HWI_INT4").interruptSelectNumber = 95;
bios.HWI.instance("HWI_INT4").useDispatcher = 1;
bios.HWI.instance("HWI_INT5").interruptSelectNumber = 91;
bios.HWI.instance("HWI_INT5").fxn = prog.extern("EDMA3_1_ISR");
bios.HWI.instance("HWI_INT5").useDispatcher = 1;
bios.HWI.instance("HWI_INT6").fxn = prog.extern("PRU_HWI");
bios.HWI.instance("HWI_INT6").useDispatcher = 1;
bios.HWI.instance("HWI_INT8").fxn = prog.extern("EDMA3_0_ISR");
bios.HWI.instance("HWI_INT8").useDispatcher = 1;
bios.SWI.create("SWI_LCD");
bios.SWI.instance("SWI_LCD").order = 1;
bios.SWI.instance("SWI_LCD").fxn = prog.extern("LCD");
bios.SWI.create("SWI_RobotControl");
bios.SWI.instance("SWI_RobotControl").order = 2;
bios.SWI.instance("SWI_RobotControl").fxn = prog.extern("RobotControl");
bios.SWI.instance("SWI_RobotControl").priority = 3;
bios.SWI.create("SWI_vision");
bios.SWI.instance("SWI_vision").order = 3;
bios.SWI.instance("SWI_vision").priority = 3;
bios.SWI.instance("SWI_vision").fxn = prog.extern("vision");
bios.SWI.instance("SWI_vision").priority = 2;
bios.SWI.instance("PRD_swi").order = 1;
bios.SWI.instance("KNL_swi").order = 2;
bios.SWI.instance("PWRM_loadSwi").order = 3;
bios.SWI.instance("SWI_LCD").order = 4;
bios.SWI.instance("SWI_RobotControl").order = 5;
bios.SWI.instance("SWI_vision").order = 6;
bios.SWI.instance("PRD_swi").priority = 4;
bios.TSK.create("TSK_LADAR");
bios.TSK.instance("TSK_LADAR").order = 2;
bios.TSK.instance("TSK_LADAR").stackSize = 2048;
bios.TSK.instance("TSK_LADAR").fxn = prog.extern("LADARtask");
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("TSK_LADAR").destroy();
bios.TSK.create("TSK_LADAR");
bios.TSK.instance("TSK_LADAR").order = 3;
bios.TSK.instance("TSK_LADAR").stackSize = 2048;
bios.TSK.instance("TSK_LADAR").fxn = prog.extern("LADARtask");
bios.PRD.create("PRD_every1ms");
bios.PRD.instance("PRD_every1ms").order = 5;
bios.PRD.instance("PRD_every1ms").fxn = prog.extern("every1ms");
bios.SWI.create("SWI_counttime");
bios.SWI.instance("SWI_counttime").order = 8;
bios.SWI.instance("SWI_counttime").priority = 4;
bios.SWI.instance("SWI_counttime").fxn = prog.extern("counttime");
bios.PRD.instance("PRD_every1ms").period = 1;
bios.SWI.instance("SWI_counttime").priority = 2;
bios.PRD.instance("PRD_every1ms").period = 1;
bios.SWI.create("SWI_loaded");
bios.SWI.instance("SWI_loaded").order = 9;
bios.SWI.instance("SWI_loaded").priority = 4;
bios.SWI.instance("SWI_counttime").priority = 4;
bios.SWI.instance("SWI_loaded").fxn = prog.extern("stallfunc");
bios.SWI.instance("SWI_counttime").order = 7;
bios.SWI.instance("SWI_loaded").order = 8;
bios.SWI.instance("PRD_swi").priority = 6;
bios.SWI.instance("SWI_RobotControl").order = 1;
bios.SWI.instance("PRD_swi").order = 2;
bios.SWI.instance("KNL_swi").order = 3;
bios.SWI.instance("PWRM_loadSwi").order = 4;
bios.SWI.instance("SWI_LCD").order = 5;
bios.SWI.instance("SWI_RobotControl").priority = 5;
bios.SWI.instance("SWI_vision").order = 1;
bios.SWI.instance("SWI_RobotControl").order = 2;
bios.SWI.instance("PRD_swi").order = 3;
bios.SWI.instance("KNL_swi").order = 4;
bios.SWI.instance("PWRM_loadSwi").order = 5;
bios.SWI.instance("SWI_LCD").order = 6;
bios.SWI.instance("SWI_vision").priority = 4;
bios.SWI.instance("SWI_LCD").order = 1;
bios.SWI.instance("SWI_vision").order = 2;
bios.SWI.instance("SWI_RobotControl").order = 3;
bios.SWI.instance("PRD_swi").order = 4;
bios.SWI.instance("KNL_swi").order = 5;
bios.SWI.instance("PWRM_loadSwi").order = 6;
bios.SWI.instance("SWI_LCD").priority = 3;
bios.SWI.instance("SWI_counttime").order = 1;
bios.SWI.instance("SWI_LCD").order = 2;
bios.SWI.instance("SWI_vision").order = 3;
bios.SWI.instance("SWI_RobotControl").order = 4;
bios.SWI.instance("PRD_swi").order = 5;
bios.SWI.instance("KNL_swi").order = 6;
bios.SWI.instance("PWRM_loadSwi").order = 7;
bios.SWI.instance("SWI_counttime").priority = 2;
bios.SWI.instance("SWI_loaded").order = 1;
bios.SWI.instance("SWI_counttime").order = 2;
bios.SWI.instance("SWI_LCD").order = 3;
bios.SWI.instance("SWI_vision").order = 4;
bios.SWI.instance("SWI_RobotControl").order = 5;
bios.SWI.instance("PRD_swi").order = 6;
bios.SWI.instance("KNL_swi").order = 7;
bios.SWI.instance("PWRM_loadSwi").order = 8;
bios.SWI.instance("SWI_loaded").priority = 1;
bios.SWI.instance("PRD_swi").order = 1;
bios.SWI.instance("KNL_swi").order = 2;
bios.SWI.instance("PWRM_loadSwi").order = 3;
bios.SWI.instance("SWI_LCD").order = 4;
bios.SWI.instance("SWI_vision").order = 6;
bios.SWI.instance("SWI_counttime").order = 7;
bios.SWI.instance("SWI_loaded").order = 8;
bios.SWI.instance("SWI_loaded").priority = 2;
bios.SWI.instance("SWI_counttime").order = 1;
bios.SWI.instance("PRD_swi").order = 2;
bios.SWI.instance("KNL_swi").order = 3;
bios.SWI.instance("PWRM_loadSwi").order = 4;
bios.SWI.instance("SWI_LCD").order = 5;
bios.SWI.instance("SWI_RobotControl").order = 6;
bios.SWI.instance("SWI_vision").order = 7;
bios.SWI.instance("SWI_counttime").priority = 1;
bios.SWI.instance("SWI_counttime").comment = "Counts the time in milliseconds";
bios.SWI.instance("SWI_loaded").comment = "simulates a processing time load";
bios.SWI.instance("SWI_counttime").priority = 2;
bios.SWI.instance("SWI_loaded").priority = 1;
bios.SWI.instance("SWI_counttime").priority = 1;
bios.SWI.instance("SWI_loaded").priority = 2;
bios.SWI.instance("SWI_counttime").priority = 2;
bios.SWI.instance("SWI_loaded").priority = 1;
bios.SWI.instance("SWI_loaded").priority = 2;
bios.SWI.instance("SWI_counttime").priority = 1;
// !GRAPHICAL_CONFIG_TOOL_SCRIPT_INSERT_POINT!

prog.gen();
